<!DOCTYPE html>
<html lang="pl"></html>
<head>
    <meta charset="UTF-8">
    <title>Zdjęcie na środku ekranu</title>
    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        body {
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            background: #000;
        }
        img {
            width: 100vw;
            height: 100vh;
            object-fit: cover;
            display: block;
            cursor: pointer;
        }
        #message {
            color: #fff;
            font-size: 2rem;
            display: none;
            text-align: center;
        }
        #forzaMessage {
            color: #ff0;
            font-size: 4rem;
            display: none;
            text-align: center;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100vw;
            z-index: 2;
        }
        #dvdContainer {
            display: none;
            position: absolute;
            top: 0; left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            z-index: 3;
        }
        .dvdImg {
            position: absolute;
            width: 20vw;
            height: 16vw;
            max-width: 20vw;
            max-height: 16vw;
            object-fit: contain;
            user-select: none;
        }
    </style>
</head>
<body>
    <img src="pobrany plik.png" alt="Zdjęcie na środku ekranu" id="mainImg">
    <div id="message">Po co siedzisz na tej stronie? Sprawdź całą piosenkę na kanale Miraculous Info!!!</div>
    <div id="forzaMessage">BRAWO TY PIEPRZONY DEBILU ZNALAZŁEŚ EASTER EGGA W EASTER EGGU CHWDP CHWDP CHWDP<br>Tak wgl to podziekowania dla Shodo za pomysł xddd</div>
    <div id="dvdContainer">
        <img src="forza-horizon-4-pc-xbox-one-xbox-series-x-s-game-microsoft-store-europe-wallpaper-1.jpg" class="dvdImg" id="dvd1" alt="DVD1">
        <img src="26_forza_horizon_4_niebawem_zniknie_z_cyfrowej_dystrybucji_pojawia_sie_ostatnia_okazja_do_nabycia_gry_0_b.jpg" class="dvdImg" id="dvd2" alt="DVD2">
    </div>
    <audio id="audio" src="Diss Na Hejtera (mp3cut.net).mp3"></audio>
    <audio id="forzaAudio" src="Forza Horizon 4 Earrape (A Moment Apart by ODESZA).mp3"></audio>
    <script>
        const audio = document.getElementById('audio');
        const img = document.getElementById('mainImg');
        const message = document.getElementById('message');
        const forzaAudio = document.getElementById('forzaAudio');
        const forzaMessage = document.getElementById('forzaMessage');
        let clickCount = 0;
        let isAudioPlaying = false;
        let keyBuffer = '';

        // DVD bouncing logic
        const dvdContainer = document.getElementById('dvdContainer');
        const dvd1 = document.getElementById('dvd1');
        const dvd2 = document.getElementById('dvd2');
        let dvdImgs = [
            {el: dvd1, x: 0, y: 0, dx: 2, dy: 2}, // Lewy górny róg
            {el: dvd2, x: window.innerWidth - dvd2.width, y: window.innerHeight - dvd2.height, dx: -2, dy: -2} // Prawy dolny róg
        ];

        // Ustaw pozycje DVD po załadowaniu obrazków i okna
        function setInitialDVDPositions() {
            dvdImgs[0].x = 0;
            dvdImgs[0].y = 0;
            dvdImgs[0].dx = 2;
            dvdImgs[0].dy = 2;
            dvdImgs[1].x = window.innerWidth - dvd2.width;
            dvdImgs[1].y = window.innerHeight - dvd2.height;
            dvdImgs[1].dx = -2;
            dvdImgs[1].dy = -2;
        }

        function animateDVD() {
            const w = window.innerWidth, h = window.innerHeight;
            dvdImgs.forEach(obj => {
            obj.x += obj.dx;
            obj.y += obj.dy;
            if (obj.x <= 0 || obj.x + obj.el.width >= w) obj.dx *= -1;
            if (obj.y <= 0 || obj.y + obj.el.height >= h) obj.dy *= -1;
            obj.el.style.left = obj.x + 'px';
            obj.el.style.top = obj.y + 'px';
            });
            if (dvdContainer.style.display === 'block') {
            requestAnimationFrame(animateDVD);
            }
        }

        // Ustaw pozycje po załadowaniu okna i obrazków
        window.addEventListener('load', () => {
            setInitialDVDPositions();
        });
        window.addEventListener('resize', () => {
            setInitialDVDPositions();
        });

        img.addEventListener('click', () => {
            if (isAudioPlaying) return;
            clickCount++;
            if (clickCount >= 5) {
            img.style.display = 'none';
            message.style.display = 'block';
            return;
            }
            isAudioPlaying = true;
            // Always play exactly 5 seconds from a random position
            const playSnippet = () => {
            const duration = audio.duration;
            let start = 0;
            if (duration > 5) {
                start = Math.random() * (duration - 5);
            }
            audio.currentTime = start;
            audio.play();
            // Stop after 5 seconds
            setTimeout(() => {
                audio.pause();
                isAudioPlaying = false;
            }, 5000);
            };
            if (audio.readyState >= 1) {
            playSnippet();
            } else {
            audio.onloadedmetadata = playSnippet;
            }
        });

        audio.addEventListener('pause', () => {
            isAudioPlaying = false;
        });
        audio.addEventListener('ended', () => {
            isAudioPlaying = false;
        });

        // Secret code: "forzahorizon"
        document.addEventListener('keydown', (e) => {
            keyBuffer += e.key.toLowerCase();
            if (keyBuffer.length > 12) keyBuffer = keyBuffer.slice(-12);
            if (keyBuffer.endsWith('forzahorizon')) {
                // Hide image and diss audio/message
                img.style.display = 'none';
                message.style.display = 'none';
                audio.pause();
                audio.currentTime = 0;
                // Show forza message and play forza audio
                forzaMessage.style.display = 'block';
                forzaAudio.currentTime = 0;
                forzaAudio.play();

                // Show DVD images and start animation
                dvdContainer.style.display = 'block';
                // Reset positions
                dvdImgs[0].x = 50; dvdImgs[0].y = 50; dvdImgs[0].dx = 2; dvdImgs[0].dy = 2;
                dvdImgs[1].x = 300; dvdImgs[1].y = 200; dvdImgs[1].dx = -2; dvdImgs[1].dy = 2;
                animateDVD();
            }
        });
    </script>
</body>
</html>