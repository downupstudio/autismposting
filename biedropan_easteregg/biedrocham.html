<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Zdjęcie na środku ekranu</title>
    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        body {
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            background: #000;
        }
        img {
            width: 100vw;
            height: 100vh;
            object-fit: cover;
            display: block;
            cursor: pointer;
        }
        #message {
            color: #fff;
            font-size: 2rem;
            display: none;
            text-align: center;
        }
        #forzaMessage {
            color: #ff0;
            font-size: 4rem;
            display: none;
            text-align: center;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100vw;
        }
    </style>
</head>
<body>
    <img src="pobrany plik.png" alt="Zdjęcie na środku ekranu" id="mainImg">
    <div id="message">Po co siedzisz na tej stronie? Sprawdź całą piosenkę na kanale Miraculous Info!!!</div>
    <div id="forzaMessage">BRAWO TY PIEPRZONY DEBILU ZNALAZŁEŚ EASTER EGGA W EASTER EGGU CHWDP CHWDP CHWDP<br>Tak wgl to podziekowania dla Shodo za pomysł xddd</div>
    <audio id="audio" src="Diss Na Hejtera (mp3cut.net).mp3"></audio>
    <audio id="forzaAudio" src="Forza Horizon 4 Earrape (A Moment Apart by ODESZA).mp3"></audio>
    <script>
        const audio = document.getElementById('audio');
        const img = document.getElementById('mainImg');
        const message = document.getElementById('message');
        const forzaAudio = document.getElementById('forzaAudio');
        const forzaMessage = document.getElementById('forzaMessage');
        let clickCount = 0;
        let isAudioPlaying = false;
        let keyBuffer = '';

        img.addEventListener('click', () => {
            if (isAudioPlaying) return;
            clickCount++;
            if (clickCount >= 5) {
                img.style.display = 'none';
                message.style.display = 'block';
                return;
            }
            isAudioPlaying = true;
            // Always play exactly 5 seconds from a random position
            const playSnippet = () => {
                const duration = audio.duration;
                let start = 0;
                if (duration > 5) {
                    start = Math.random() * (duration - 5);
                }
                audio.currentTime = start;
                audio.play();
                // Stop after 5 seconds
                setTimeout(() => {
                    audio.pause();
                    isAudioPlaying = false;
                }, 5000);
            };
            if (audio.readyState >= 1) {
                playSnippet();
            } else {
                audio.onloadedmetadata = playSnippet;
            }
        });

        audio.addEventListener('pause', () => {
            isAudioPlaying = false;
        });
        audio.addEventListener('ended', () => {
            isAudioPlaying = false;
        });

        // Secret code: "forzahorizon"
        document.addEventListener('keydown', (e) => {
            keyBuffer += e.key.toLowerCase();
            if (keyBuffer.length > 12) keyBuffer = keyBuffer.slice(-12);
            if (keyBuffer.endsWith('forzahorizon')) {
                // Hide image and diss audio/message
                img.style.display = 'none';
                message.style.display = 'none';
                audio.pause();
                audio.currentTime = 0;
                // Show forza message and play forza audio
                forzaMessage.style.display = 'block';
                forzaAudio.currentTime = 0;
                forzaAudio.play();
            }
        });
    </script>
</body>
</html>